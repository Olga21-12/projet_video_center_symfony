{% extends 'base.html.twig' %}

{% block title %}Video{% endblock %}

{% block body %}
<div class="container mt-4" style="max-width: 800px;">

    <div class="text-center mb-4">
        <iframe width="100%" height="450"
                src="{{ video.videoLink }}"
                title="{{ video.title }}"
                frameborder="0"
                allowfullscreen
                style="border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
        </iframe>
    </div>

    <div class="card shadow-sm p-4 mb-4">
        <h2 class="mb-3">{{ video.title }}</h2>
        <p class="text-white">{{ video.description | nl2br }}</p>
        <p class="fw-bold">VidÃ©o crÃ©Ã©e par {{ video.user.firstname }}</p>

        <div class="dates text-white small mt-3">
            <div>ğŸ“… CrÃ©Ã©e le {{ video.createdAt | date('d/m/Y') }}</div>
            <div>â± Mise Ã  jour le {{ video.updatedAt | date('d/m/Y H:i') }}</div>
        </div>
    </div>

    <div class="d-flex justify-content-center gap-2 flex-wrap">
        {% if app.user and app.user.email is same as(video.user.email) %}
            <a class="btn btn-primary btn-sm px-3" 
               href="{{ path('app_video_edit', {id: video.id}) }}">
                âœï¸ {{ 'videoShow.edit'|trans }}
            </a>
            <a class="btn btn-danger btn-sm px-3" 
               href="{{ path('app_video_delete', {id: video.id}) }}" 
               onclick="return confirm('ÃŠtes-vous sÃ»r de vouloir supprimer cette vidÃ©o ?')">
                ğŸ—‘ {{ 'videoShow.delete'|trans }}
            </a>
        {% endif %}
        <a class="btn btn-secondary btn-sm px-3" 
           href="{{ path('app_home') }}">
            â¬…ï¸ {{ 'videoShow.goBack'|trans }}
        </a>
    </div>

</div>
{% endblock %}
